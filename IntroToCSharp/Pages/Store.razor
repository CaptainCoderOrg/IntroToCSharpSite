@inherits CaptainCoder.Page
@page "/store"

<MudStack Class="ma-6" Spacing="0" Row="true" Justify="Justify.Center">
    @foreach(string filter in ItemDatabase.Filters){
        <MudButton OnClick="@(() => ApplyFilter(filter))"Variant="Variant.Filled" Class="pl-8 pr-8 pa-3">@filter</MudButton>
    }
</MudStack>

<MudGrid Spacing="1" Justify="Justify.SpaceEvenly">
    @foreach(StoreItem item in ItemDatabase.GetItems(currentFilter)) {
        Console.WriteLine("filter: ");
        Console.WriteLine(currentFilter);
        <ItemDisplay Item="@item"/>
    }
</MudGrid>

@code {
    private IItemDatabase ItemDatabase {get;} = new MockDatabase();

    private string currentFilter = "All";
    // You can't have a WriteLine outside of a method
    private void ApplyFilter(string filter) {
        Console.WriteLine(ItemDatabase.GetItems(currentFilter));
        currentFilter = filter;
    }
}
