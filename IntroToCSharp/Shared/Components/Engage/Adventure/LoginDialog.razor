<MudDialog>
    <DialogContent>
        <MudStack Spacing=4 Justify="Justify.Center">
            <MudText>This feature is only available with <b>Adventure Mode</b>.</MudText>
            <MudMenu
                AnchorOrigin="Origin.BottomLeft" TransformOrigin="Origin.TopLeft"
                FullWidth="true"
                StartIcon="@Icons.Filled.Login"
                Label="Login to Enable Adventure Mode"
                Variant="Variant.Filled"
                Color="Color.Tertiary">
                <ChildContent>
                    <MudMenuItem OnClick="@UserService.Service.GoogleLogin">Google</MudMenuItem>
                    <MudMenuItem OnClick="@UserService.Service.GitHubLogin">GitHub</MudMenuItem>
                </ChildContent>
            </MudMenu>
            <HorizontalDivider/>
            <MudText Style="max-width:350px">You may continue to the page without adding it to your book.</MudText>
            <MudButton Class="mb-4" StartIcon="@Icons.Filled.Hiking" Variant="Variant.Filled" Color="Color.Primary" Href="@Page.Href">Go to "@Page.Name"</MudButton>
        </MudStack>
    </DialogContent>
</MudDialog>
@code {
    [CascadingParameter] MudDialogInstance? MudDialog { get; set; }
    [Parameter, EditorRequired]
    public PageRef Page { get; set; }
    protected override void OnInitialized()
    {
        UserService.Service.OnUserChange += this.UpdateUser;
    }
    private void UpdateUser(User newUser)
    {
        if (newUser.IsLoggedIn)
        {
            MudDialog?.Close(DialogResult.Ok(true));
        }
    }
}