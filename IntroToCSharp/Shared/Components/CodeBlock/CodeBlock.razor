@using IntroToCSharp.Shared.Components.ReplIt
@inherits CaptainCoder.CodeBlock

<MudPaper MaxHeight="@MaxHeight" Style="overflow:hidden; position: relative;" Class="d-flex flex-column">
    
    <MudPaper Style="overflow:auto; position:relative;" >
        <pre class="@GetAllowCopy()">
            <code id="@Language/@Filename" class="code language-@Language"></code>
        </pre>
    </MudPaper>
    @if (ReplIt != null)
    {
    <MudElement Class="ma-2" Style="@PlayButtonStyle">
        <MudButton Color="Color.Tertiary" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.PlayCircle" OnClick="@(() => IsReplItOpen = !IsReplItOpen)" >Run Code</MudButton>    
    </MudElement>
    <MudPaper Style="@ReplItStyle" Height="400px">
        <ReplIt Path="@ReplIt" ShareSource="@AllowCopy" OnClose="@(() => IsReplItOpen = !IsReplItOpen)"/>
    </MudPaper>
    }
    
</MudPaper>
