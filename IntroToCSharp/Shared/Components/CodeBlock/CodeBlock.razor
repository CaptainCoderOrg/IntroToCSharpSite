@using IntroToCSharp.Shared.Components.ReplIt
@inherits CaptainCoder.CodeBlock

<MudPaper MaxHeight="@MaxHeight" Class="d-flex flex-column flex-0 gap-1 my-2">

    <MudPaper Style="overflow:auto;">
        <pre class="@GetAllowCopy()">
            <code id="@ID" class="language-@Language code-block"></code>
        </pre>
    </MudPaper>
    @if (ReplIt != null)
    {
        <MudElement Class="ma-2" Style="@PlayButtonStyle">
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.PlayCircle" OnClick="@(() => IsReplItOpen = !IsReplItOpen)" >Run Code</MudButton>
        </MudElement>
        if (IsReplItOpen)
        {
            <MudPaper Style="@ReplItStyle" >
                <ReplIt Path="@ReplIt" ShareSource="@AllowCopy" OnClose="@(() => IsReplItOpen = !IsReplItOpen)"/>
            </MudPaper>
        }
    }

</MudPaper>
